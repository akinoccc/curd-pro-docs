import{_ as x,N as _}from"./NaiveAutoCrud.vue_vue_type_script_setup_true_lang-DplOcIxO.js";import{N as k,c as w,a as c}from"./mock-dicts-Do2PBsdN.js";import{c as T,a as v,b as A,N as S}from"./demo-schema-ee0Otrfg.js";import{d as B,c as E,a as o,w as a,u as t,o as l,b as s,N as i,e as p,r as f,t as m}from"./index-CuDnTDmo.js";const F={style:{display:"flex","flex-direction":"column",gap:"12px"}},q=B({__name:"auto-crud-page",setup(M){const N=w(),{adapter:b}=T(),d=A(),g=v(d);function y(n){const e=Date.parse(n);return Number.isFinite(e)?new Date(e).toLocaleString():String(n??"")}function C(n){return n==="enabled"?"success":n==="draft"?"warning":"error"}return(n,e)=>(l(),E("div",F,[o(t(k),{type:"info",bordered:!1},{default:a(()=>[e[1]||(e[1]=s(" 这个页面用 ",-1)),o(t(i),{code:""},{default:a(()=>[...e[0]||(e[0]=[s("NaiveAutoCrud",-1)])]),_:1}),e[2]||(e[2]=s(" 覆盖：搜索（含路由同步）、分页、排序、表单（drawer）、新增/编辑/删除、选择集、slot 自定义渲染、DictCenter 字典加载。 ",-1))]),_:1}),o(t(x),{adapter:t(b),fields:t(d),"table-columns":t(g),"dict-api":t(N),"form-mode":"drawer","show-selection":"","show-actions-column":!0},{beforeTable:a(()=>[o(t(c),{style:{margin:"8px 0"}},{default:a(()=>[...e[3]||(e[3]=[s("自定义内容（beforeTable slot）",-1)])]),_:1})]),"cell-status":a(({row:r})=>[o(t(S),{type:C(r.status),size:"small"},{default:a(()=>[s(m(r.status),1)]),_:2},1032,["type"])]),"cell-createdAt":a(({row:r})=>[o(t(i),{depth:"3"},{default:a(()=>[s(m(y(r.createdAt)),1)]),_:2},1024)]),"row-actions":a(({row:r,openEdit:D,defaultActions:u})=>[(l(),p(f(u.Edit),{row:r},null,8,["row"])),(l(),p(f(u.Delete),{row:r},null,8,["row"])),o(t(c),{vertical:""}),o(t(i),{depth:"3",style:{cursor:"pointer"},onClick:V=>D(r)},{default:a(()=>[...e[4]||(e[4]=[s(" 二次编辑 ",-1)])]),_:1},8,["onClick"])]),"field-remark":a(({model:r})=>[o(t(_),{code:String(r.remark??""),language:"text"},null,8,["code"])]),_:1},8,["adapter","fields","table-columns","dict-api"])]))}});export{q as default};
